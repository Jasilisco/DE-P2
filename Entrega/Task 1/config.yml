datasources: ["../../DATASETS/train.csv"]

database:
  sqlScript: '../data.sql'
  user: root
  password: admin
  host: localhost
  port: 3306
  name: sales

tables:
  datedimension:
    DateID:
      autogenerated: True
    Year:
      value: Order Date
      date: True
    Month:
      value: Order Date
      date: True      
  customer:
    CustomerID: 
      value: Customer ID
    CustomerName:
      value: Customer Name
    Segment: 
      value: Segment
    Country: 
      value: Country
  product:
    ProductID:
      value: Product ID
    ProductName:
      value: Product Name
    SubCategory:
      value: Sub-Category
    Category:
      value: Category
  sales:
    CustomerID: 
      fk: customer
      mapped: Customer ID
    ProductID: 
      fk: product
      mapped: Product ID
    DateID:
      fk: datedimension
    Sales: 
      value: Sales

config:
    product:
      design: dimension
      id: ProductID
      onDuplicate:
          method: ignore
    datedimension:
      design: 
        value: dimension
        hash: 
          base: [Year, Month]
          mapping: DateID
      id: DateID
      onDuplicate:
          method: ignore
    customer:
      design: dimension
      id: CustomerID
      onDuplicate:
          method: ignore
    sales:
      design: fact
      id: [CustomerID, DateID, ProductID]
      onDuplicate:
          method: add
          field: Sales